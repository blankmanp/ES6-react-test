import React from 'react';
import _ from 'lodash';
import PREFIX from '../prefix-name';

export default {

    renderEditor: function (value, changeHandler) {
        if (this.props.textarea) {
            return (
                <textarea {...this.props}
                    className={`${PREFIX}-form-control`}
                    value={value}
                    onChange={changeHandler}
                    style={{resize:'vertical'}}/>
            )
        } else {
            return (
                <input {...this.props}
                       className={`${PREFIX}-form-control`}
                       type={this.props.password?'password':'text'}
                       value={value}
                       onChange={changeHandler}/>
            )
        }
    },

    validate: function (value, data) {
        let result = true, tip = '';
        if (this.props.min === +this.props.min && value.length < this.props.min) {
            result = false;
            tip = '最少' + this.props.min + '个字符';
        }
        if (this.props.max === +this.props.max && value.length > this.props.max) {
            result = false;
            tip = '最多' + this.props.max + '个字符';
        }
        return [result, tip];
    },

    pickValue: event => event.target.value
}