import React from 'react';
import _ from 'lodash';

import prefixName from '../prefix-name';

export default class Switch extends React.Component {

    static propTypes = {
        value: React.PropTypes.bool,
        disabled: React.PropTypes.bool,
        onChange: React.PropTypes.func
    };

    static defaultProps = {
        value: false,
        disabled: false,
        onChange: function () {
        }
    };


    _clickHandler() {
        let value = !this.props.value;
        this.setState({
            value: value
        });
        this.props.onChange.call(this, value);
    }

    render() {
        let className = `${prefixName}-switch ${prefixName}-form-control`;
        if (this.props.disabled)
            className += ` ${prefixName}-switch-disabled`;
        if (this.props.value)
            className += ` ${prefixName}-switch-on`;
        return (
            <div className={className}
                 onClick={this.props.disabled ? undefined : this._clickHandler.bind(this)}>
                <div>
                    <section>
                        <span className="on">on</span>
                        <span className="button"/>
                        <span className="off">off</span>
                    </section>
                </div>
            </div>
        )
    }


}
