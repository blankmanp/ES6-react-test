import React, { Component } from 'react';
import ReactDOM from 'react-dom';
import { PageLayout, CountDown } from '../index.js';
import Pop from '@myfe/cat-pop';
import "../assets/index.less";
import getSideInfo from './get-side-info.js';

class Example extends PageLayout {
    user = {
        name: 'yanweiqing'
    }

    system = {
        name: '猫眼电影',
        logoutUrl: '/api/logout'
    }

    current = getSideInfo('/yinxiao/report');


    update() {
        this.setState({
            name: '1'
        });
    }
    handleClick() {
        console.log('你刚刚点击了倒计时');
    }

    // User Defined Render
    renderHeaderContent() {
        return (
            <ul className="nav navbar-nav pull-left">
                <li>
                    <a target="_blank" href="">
                        <Pop content="使用问题反馈" place="bottom">
                            <i className="glyphicon glyphicon-question-sign"></i>
                        </Pop>
                    </a>
                </li>
            </ul>
        );
    }

    renderMain() {
        return (
            <div>
                <button onClick={this::this.update}>点击</button>
                <CountDown onCount={this::this.handleClick} count={5}>点击发送短信</CountDown>        
            </div>
        );
    }
}

class Container extends Component {
    render() {
        return (
            <div style={{position: 'relative', height: '600px'}}>
                <Example />
            </div>
        );
    }
}

ReactDOM.render(<Container />, document.getElementById('component-example-base-pagelayout'));
