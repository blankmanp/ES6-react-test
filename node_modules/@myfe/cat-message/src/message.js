import Notification from './notification';

function addNotice (content, settings, type) {
    let container,
        notice = {
            content: content,
            type: type
        };

    // TODO: 我们需要规范报错机制，如果用户使用api错误，利用catch-throw给warning
    if (typeof settings === 'number') {
        notice.duration = settings;
    } else if (typeof settings === 'object') {
        if (!settings.nodeType) {
            notice.duration = settings.duration;
            container = settings.container;
        } else {
            container = settings;
        }
    }

	Notification.instance(container).add(notice);
}

export default {
	info(content, settings) {
        addNotice(content, settings, 'info');
	},
	success(content, settings) {
        addNotice(content, settings, 'success');
	},
	warning(content, settings) {
        addNotice(content, settings, 'warning');
	},
	danger(content, settings) {
        addNotice(content, settings, 'danger');
	}
}
